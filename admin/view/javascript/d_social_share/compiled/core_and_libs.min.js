!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Immutable=t.Immutable||{})}(this,function(t){"use strict";function s(t){return t.value=!1,t}function _(t){t&&(t.value=!0)}function m(){}function d(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function c(t){return void 0===t.size&&(t.size=t.__iterate(e)),t.size}function u(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?c(t)+e:e}function e(){return!0}function f(t,e,r){return(0===t||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&r<=e)}function p(t,e){return r(t,e,0)}function l(t,e){return r(t,e,e)}function r(t,e,r){return void 0===t?r:t<0?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function n(t){return(h(t)||i(t))&&!t.__ownerID}function h(t){return!(!t||!t[pe])}function a(t){return!(!t||!t[le])}function v(t){return!(!t||!t[_e])}function y(t){return a(t)||v(t)}function g(t){return!(!t||!t[de])}function i(t){return!(!t||!t[ve])}function o(t){return!(!t||"function"!=typeof t.equals||"function"!=typeof t.hashCode)}function w(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function b(){return{value:void 0,done:!0}}function S(t){return!!z(t)}function I(t){return t&&"function"==typeof t.next}function x(t){var e=z(t);return e&&e.call(t)}function z(t){var e=t&&(xe&&t[xe]||t[ze]);if("function"==typeof e)return e}function O(t){return t&&"number"==typeof t.length}function E(t){return!(!t||!t[De])}function M(){return Ne||(Ne=new qe([]))}function j(t){var e=Array.isArray(t)?new qe(t):I(t)?new Le(t):S(t)?new Te(t):void 0;if(e)return e.fromEntrySeq();if("object"==typeof t)return new Ce(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function k(t){var e=A(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function A(t){return O(t)?new qe(t):I(t)?new Le(t):S(t)?new Te(t):void 0}function D(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(o(t)&&o(e)&&t.equals(e))}function q(t,e){return function r(n,i,o,t,u,e){var s=Array.isArray(o)?ke:(a=o,!a||a.constructor!==Object&&void 0!==a.constructor?null:je);var a;if(s){if(~n.indexOf(o))throw new TypeError("Cannot convert circular structure to Immutable");n.push(o),u&&""!==t&&u.push(t);var c=i.call(e,t,s(o).map(function(t,e){return r(n,i,t,e,u,o)}),u&&u.slice());return n.pop(),u&&u.pop(),c}return o}([],e||C,t,"",e&&2<e.length?[]:void 0,{"":t})}function C(t,e){return a(e)?e.toMap():e.toList()}function N(t){return t>>>1&1073741824|3221225471&t}function R(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e,r,n=typeof t;if("number"===n){if(t!=t||t===1/0)return 0;var i=0|t;for(i!==t&&(i^=4294967295*t);4294967295<t;)i^=t/=4294967295;return N(i)}if("string"===n)return t.length>We?(void 0===(r=Fe[e=t])&&(r=T(e),Je===$e&&(Je=0,Fe={}),Je++,Fe[e]=r),r):T(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===n)return function(t){var e;if(Pe&&void 0!==(e=Re.get(t)))return e;if(void 0!==(e=t[He]))return e;if(!Be){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[He]))return e;if(void 0!==(e=function(t){if(t&&0<t.nodeType)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=++Ve,1073741824&Ve&&(Ve=0),Pe)Re.set(t,e);else{if(void 0!==Ke&&!1===Ke(t))throw Error("Non-extensible objects are not allowed as keys.");if(Be)Object.defineProperty(t,He,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[He]=e;else{if(void 0===t.nodeType)throw Error("Unable to set a non-enumerable property on object.");t[He]=e}}return e}(t);if("function"==typeof t.toString)return T(""+t);throw Error("Value type "+n+" cannot be hashed.")}function T(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return N(e)}function L(i){var t=G(i);return t._iter=i,t.size=i.size,t.flip=function(){return i},t.reverse=function(){var t=i.reverse.apply(this);return t.flip=function(){return i.reverse()},t},t.has=function(t){return i.includes(t)},t.includes=function(t){return i.has(t)},t.cacheResult=X,t.__iterateUncached=function(r,t){var n=this;return i.__iterate(function(t,e){return!1!==r(e,t,n)},t)},t.__iteratorUncached=function(t,e){if(t===Ie){var r=i.__iterator(t,e);return new Ee(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return i.__iterator(t===Se?be:Se,e)},t}function U(o,u,s){var t=G(o);return t.size=o.size,t.has=function(t){return o.has(t)},t.get=function(t,e){var r=o.get(t,ce);return r===ce?e:u.call(s,r,t,o)},t.__iterateUncached=function(n,t){var i=this;return o.__iterate(function(t,e,r){return!1!==n(u.call(s,t,e,r),e,i)},t)},t.__iteratorUncached=function(n,t){var i=o.__iterator(Ie,t);return new Ee(function(){var t=i.next();if(t.done)return t;var e=t.value,r=e[0];return w(n,r,u.call(s,e[1],r,o),t)})},t}function K(u,s){var a=this,t=G(u);return t._iter=u,t.size=u.size,t.reverse=function(){return u},u.flip&&(t.flip=function(){var t=L(u);return t.reverse=function(){return u.flip()},t}),t.get=function(t,e){return u.get(s?t:-1-t,e)},t.has=function(t){return u.has(s?t:-1-t)},t.includes=function(t){return u.includes(t)},t.cacheResult=X,t.__iterate=function(r,n){var i=this,o=0;return n&&c(u),u.__iterate(function(t,e){return r(t,s?e:n?i.size-++o:o++,i)},!n)},t.__iterator=function(r,n){var i=0;n&&c(u);var o=u.__iterator(Ie,!n);return new Ee(function(){var t=o.next();if(t.done)return t;var e=t.value;return w(r,s?e[0]:n?a.size-++i:i++,e[1],t)})},t}function B(s,a,c,h){var t=G(s);return h&&(t.has=function(t){var e=s.get(t,ce);return e!==ce&&!!a.call(c,e,t,s)},t.get=function(t,e){var r=s.get(t,ce);return r!==ce&&a.call(c,r,t,s)?r:e}),t.__iterateUncached=function(n,t){var i=this,o=0;return s.__iterate(function(t,e,r){if(a.call(c,t,e,r))return o++,n(t,h?e:o-1,i)},t),o},t.__iteratorUncached=function(i,t){var o=s.__iterator(Ie,t),u=0;return new Ee(function(){for(;;){var t=o.next();if(t.done)return t;var e=t.value,r=e[0],n=e[1];if(a.call(c,n,r,s))return w(i,h?r:u++,n,t)}})},t}function P(s,t,e,a){var r=s.size;if(f(t,e,r))return s;var c=p(t,r),n=l(e,r);if(c!=c||n!=n)return P(s.toSeq().cacheResult(),t,e,a);var h,i=n-c;i==i&&(h=i<0?0:i);var o=G(s);return o.size=0===h?h:s.size&&h||void 0,!a&&E(s)&&0<=h&&(o.get=function(t,e){return 0<=(t=u(this,t))&&t<h?s.get(t+c,e):e}),o.__iterateUncached=function(r,t){var n=this;if(0===h)return 0;if(t)return this.cacheResult().__iterate(r,t);var i=0,o=!0,u=0;return s.__iterate(function(t,e){if(!o||!(o=i++<c))return u++,!1!==r(t,a?e:u-1,n)&&u!==h}),u},o.__iteratorUncached=function(e,t){if(0!==h&&t)return this.cacheResult().__iterator(e,t);var r=0!==h&&s.__iterator(e,t),n=0,i=0;return new Ee(function(){for(;n++<c;)r.next();if(++i>h)return{value:void 0,done:!0};var t=r.next();return a||e===Se?t:w(e,i-1,e===be?void 0:t.value[1],t)})},o}function V(e,c,h,f){var t=G(e);return t.__iterateUncached=function(n,t){var i=this;if(t)return this.cacheResult().__iterate(n,t);var o=!0,u=0;return e.__iterate(function(t,e,r){if(!o||!(o=c.call(h,t,e,r)))return u++,n(t,f?e:u-1,i)}),u},t.__iteratorUncached=function(i,t){var o=this;if(t)return this.cacheResult().__iterator(i,t);var u=e.__iterator(Ie,t),s=!0,a=0;return new Ee(function(){var t,e,r;do{if((t=u.next()).done)return f||i===Se?t:w(i,a++,i===be?void 0:t.value[1],t);var n=t.value;e=n[0],r=n[1],s&&(s=c.call(h,r,e,o))}while(s);return i===Ie?t:w(i,e,r,t)})},t}function H(t,s,a){var c=G(t);return c.__iterateUncached=function(i,e){if(e)return this.cacheResult().__iterate(i,e);var o=0,u=!1;return function r(t,n){t.__iterate(function(t,e){return(!s||n<s)&&h(t)?r(t,n+1):(o++,!1===i(t,a?e:o-1,c)&&(u=!0)),!u},e)}(t,0),o},c.__iteratorUncached=function(r,n){if(n)return this.cacheResult().__iterator(r,n);var i=t.__iterator(r,n),o=[],u=0;return new Ee(function(){for(;i;){var t=i.next();if(!1===t.done){var e=t.value;if(r===Ie&&(e=e[1]),s&&!(o.length<s)||!h(e))return a?t:w(r,u++,e,t);o.push(i),i=e.__iterator(r,n)}else i=o.pop()}return{value:void 0,done:!0}})},c}function W(r,n,i){n||(n=tt);var t=a(r),o=0,u=r.toSeq().map(function(t,e){return[e,t,o++,i?i(t,e,r):t]}).toArray();return u.sort(function(t,e){return n(t[3],e[3])||t[2]-e[2]}).forEach(t?function(t,e){u[e].length=2}:function(t,e){u[e]=t[1]}),t?je(u):v(r)?ke(u):Ae(u)}function $(r,n,i){if(n||(n=tt),i){var t=r.toSeq().map(function(t,e){return[t,i(t,e,r)]}).reduce(function(t,e){return J(n,t[1],e[1])?e:t});return t&&t[0]}return r.reduce(function(t,e){return J(n,t,e)?e:t})}function J(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||0<n}function F(t,u,s){var e=G(t);return e.size=new qe(s).map(function(t){return t.size}).min(),e.__iterate=function(t,e){for(var r,n=this.__iterator(Se,e),i=0;!(r=n.next()).done&&!1!==t(r.value,i++,this););return i},e.__iteratorUncached=function(e,r){var n=s.map(function(t){return t=ye(t),x(r?t.reverse():t)}),i=0,o=!1;return new Ee(function(){var t;return o||(t=n.map(function(t){return t.next()}),o=t.some(function(t){return t.done})),o?{value:void 0,done:!0}:w(e,i++,u.apply(null,t.map(function(t){return t.value})))})},e}function Q(t,e){return t===e?t:E(t)?e:t.constructor(e)}function Y(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Z(t){return a(t)?ge:v(t)?me:we}function G(t){return Object.create((a(t)?je:v(t)?ke:Ae).prototype)}function X(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Me.prototype.cacheResult.call(this)}function tt(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:e<t?1:t<e?-1:0}function et(t){if(O(t)&&"string"!=typeof t)return t;if(g(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function rt(t,e){if(!t)throw Error(e)}function nt(t){rt(t!==1/0,"Cannot perform this action with an infinite size.")}function it(t){return"string"==typeof t?JSON.stringify(t):t+""}function ot(t){return!(!t||!t[tr])}function ut(t,e){return w(t,e[0],e[1])}function st(t,e){return{node:t,index:0,__prev:e}}function at(t,e,r,n){var i=Object.create(er);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function ct(){return sr||(sr=at(0))}function ht(t,e,r){var n,i;if(t._root){var o=s(he),u=s(fe);if(n=ft(t._root,t.__ownerID,0,void 0,e,r,o,u),!u.value)return t;i=t.size+(o.value?r===ce?-1:1:0)}else{if(r===ce)return t;i=1,n=new rr(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?at(i,n):ct()}function ft(t,e,r,n,i,o,u,s){return t?t.update(e,r,n,i,o,u,s):o===ce?t:(_(s),_(u),new ur(e,n,[i,o]))}function pt(t){return t.constructor===ur||t.constructor===or}function lt(t,e,r,n,i){if(t.keyHash===n)return new or(e,n,[t.entry,i]);var o,u=(0===r?t.keyHash:t.keyHash>>>r)&ae,s=(0===r?n:n>>>r)&ae;return new nr(e,1<<u|1<<s,u===s?[lt(t,e,r+ue,n,i)]:(o=new ur(e,n,i),u<s?[t,o]:[o,t]))}function _t(t,e,r){for(var n=[],i=0;i<r.length;i++){var o=r[i],u=ge(o);h(o)||(u=u.map(function(t){return q(t)})),n.push(u)}return yt(t,e,n)}function dt(t,e){return t&&t.mergeDeep&&h(e)?t.mergeDeep(e):D(t,e)?t:e}function vt(i){return function(t,e,r){if(t&&t.mergeDeepWith&&h(e))return t.mergeDeepWith(i,e);var n=i(t,e,r);return D(t,n)?t:n}}function yt(t,i,r){return 0===(r=r.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations(function(n){for(var t=i?function(e,r){n.update(r,ce,function(t){return t===ce?e:i(t,e,r)})}:function(t,e){n.set(e,t)},e=0;e<r.length;e++)r[e].forEach(t)}):t.constructor(r[0])}function gt(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,127&(t+=t>>8)+(t>>16)}function mt(t,e,r,n){var i=n?t:d(t);return i[e]=r,i}function wt(t){return!(!t||!t[lr])}function bt(t,d){function v(t,e,r){return 0===e?(h=t,p=(f=r)===m?w&&w.array:h&&h.array,l=y<f?0:y-f,se<(_=g-f)&&(_=se),function(){if(l===_)return yr;var t=d?--_:l++;return p&&p[t]}):(i=e,o=r,s=(n=t)&&n.array,a=y<o?0:y-o>>i,se<(c=1+(g-o>>i))&&(c=se),function(){for(;;){if(u){var t=u();if(t!==yr)return t;u=null}if(a===c)return yr;var e=d?--c:a++;u=v(s&&s[e],i-ue,o+(e<<i))}});var n,i,o,u,s,a,c,h,f,p,l,_}var y=t._origin,g=t._capacity,m=jt(g),w=t._tail;return v(t._root,t._level,0)}function St(t,e,r,n,i,o,u){var s=Object.create(_r);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=u,s.__altered=!1,s}function It(){return vr||(vr=St(0,0,ue))}function xt(t,e,r,n,i,o){var u,s=n>>>r&ae,a=t&&s<t.array.length;if(!a&&void 0===i)return t;if(0<r){var c=t&&t.array[s],h=xt(c,e,r-ue,n,i,o);return h===c?t:((u=zt(t,e)).array[s]=h,u)}return a&&t.array[s]===i?t:(_(o),u=zt(t,e),void 0===i&&s===u.array.length-1?u.array.pop():u.array[s]=i,u)}function zt(t,e){return e&&t&&e===t.ownerID?t:new dr(t?t.array.slice():[],e)}function Ot(t,e){if(e>=jt(t._capacity))return t._tail;if(e<1<<t._level+ue){for(var r=t._root,n=t._level;r&&0<n;)r=r.array[e>>>n&ae],n-=ue;return r}}function Et(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new m,i=t._origin,o=t._capacity,u=i+e,s=void 0===r?o:r<0?o+r:i+r;if(u===i&&s===o)return t;if(s<=u)return t.clear();for(var a=t._level,c=t._root,h=0;u+h<0;)c=new dr(c&&c.array.length?[void 0,c]:[],n),h+=1<<(a+=ue);h&&(u+=h,i+=h,s+=h,o+=h);for(var f=jt(o),p=jt(s);1<<a+ue<=p;)c=new dr(c&&c.array.length?[c]:[],n),a+=ue;var l=t._tail,_=p<f?Ot(t,s-1):f<p?new dr([],n):l;if(l&&f<p&&u<o&&l.array.length){for(var d=c=zt(c,n),v=a;ue<v;v-=ue){var y=f>>>v&ae;d=d.array[y]=zt(d.array[y],n)}d.array[f>>>ue&ae]=l}if(s<o&&(_=_&&_.removeAfter(n,0,s)),p<=u)u-=p,s-=p,a=ue,c=null,_=_&&_.removeBefore(n,0,u);else if(i<u||p<f){for(h=0;c;){var g=u>>>a&ae;if(g!==p>>>a&ae)break;g&&(h+=(1<<a)*g),a-=ue,c=c.array[g]}c&&i<u&&(c=c.removeBefore(n,a,u-h)),c&&p<f&&(c=c.removeAfter(n,a,p-h)),h&&(u-=h,s-=h)}return t.__ownerID?(t.size=s-u,t._origin=u,t._capacity=s,t._level=a,t._root=c,t._tail=_,t.__hash=void 0,t.__altered=!0,t):St(u,s,a,c,_)}function Mt(t,e,r){for(var n=[],i=0,o=0;o<r.length;o++){var u=r[o],s=me(u);s.size>i&&(i=s.size),h(u)||(s=s.map(function(t){return q(t)})),n.push(s)}return i>t.size&&(t=t.setSize(i)),yt(t,e,n)}function jt(t){return t<se?0:t-1>>>ue<<ue}function kt(t){return ot(t)&&g(t)}function At(t,e,r,n){var i=Object.create(gr.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function Dt(){return mr||(mr=At(ct(),It()))}function qt(t,e,r){var n,i,o=t._map,u=t._list,s=o.get(e),a=void 0!==s;if(r===ce){if(!a)return t;u.size>=se&&u.size>=2*o.size?(n=(i=u.filter(function(t,e){return void 0!==t&&s!==e})).toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=s===u.size-1?u.pop():u.set(s,void 0))}else if(a){if(r===u.get(s)[1])return t;n=o,i=u.set(s,[e,r])}else n=o.set(e,u.size),i=u.set(u.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):At(n,i)}function Ct(t){return!(!t||!t[br])}function Nt(t,e,r,n){var i=Object.create(Sr);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Rt(){return Ir||(Ir=Nt(0))}function Tt(r,t){if(r===t)return!0;if(!h(t)||void 0!==r.size&&void 0!==t.size&&r.size!==t.size||void 0!==r.__hash&&void 0!==t.__hash&&r.__hash!==t.__hash||a(r)!==a(t)||v(r)!==v(t)||g(r)!==g(t))return!1;if(0===r.size&&0===t.size)return!0;var n=!y(r);if(g(r)){var i=r.entries();return t.every(function(t,e){var r=i.next().value;return r&&D(r[1],t)&&(n||D(r[0],e))})&&i.next().done}var o=!1;if(void 0===r.size)if(void 0===t.size)"function"==typeof r.cacheResult&&r.cacheResult();else{o=!0;var e=r;r=t,t=e}var u=!0,s=t.__iterate(function(t,e){if(n?!r.has(t):o?!D(t,r.get(e,ce)):!D(r.get(e,ce),t))return u=!1});return u&&r.size===s}function Lt(e,r){var t=function(t){e.prototype[t]=r[t]};return Object.keys(r).forEach(t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(t),e}function Ut(t){return!(!t||!t[zr])}function Kt(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Bt(t,e){var r=Object.create(Or);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function Pt(){return Er||(Er=Bt(ct()))}function Vt(t,n,i,o,u,e){return nt(t.size),t.__iterate(function(t,e,r){u?(u=!1,i=t):i=n.call(o,i,t,e,r)},e),i}function Ht(t,e){return e}function Wt(t,e){return[e,t]}function $t(t){return t&&"function"==typeof t.toJS?t.toJS():t}function Jt(t){return function(){return!t.apply(this,arguments)}}function Ft(t){return function(){return-t.apply(this,arguments)}}function Qt(){return d(arguments)}function Yt(t,e){return t<e?1:e<t?-1:0}function Zt(t){if(t.size===1/0)return 0;var e,r,n=g(t),i=a(t),o=n?1:0;return e=t.__iterate(i?n?function(t,e){o=31*o+Gt(R(t),R(e))|0}:function(t,e){o=o+Gt(R(t),R(e))|0}:n?function(t){o=31*o+R(t)|0}:function(t){o=o+R(t)|0}),r=Ue(r=o,3432918353),r=Ue(r<<15|r>>>-15,461845907),r=Ue(r<<13|r>>>-13,5),r=Ue((r=(r+3864292196|0)^e)^r>>>16,2246822507),r=N((r=Ue(r^r>>>13,3266489909))^r>>>16)}function Gt(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}function Xt(t){return Ut(t)&&g(t)}function te(t,e){var r=Object.create(Cr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function ee(){return Nr||(Nr=te(Dt()))}function re(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function ne(t){return t._name||t.constructor.name||"Record"}function ie(e){return j(e._keys.map(function(t){return[t,e.get(t)]}))}function oe(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){rt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(t){}}var ue=5,se=1<<ue,ae=se-1,ce={},he={value:!1},fe={value:!1},pe="@@__IMMUTABLE_ITERABLE__@@",le="@@__IMMUTABLE_KEYED__@@",_e="@@__IMMUTABLE_INDEXED__@@",de="@@__IMMUTABLE_ORDERED__@@",ve="@@__IMMUTABLE_RECORD__@@",ye=function(t){return h(t)?t:Me(t)},ge=function(t){function e(t){return a(t)?t:je(t)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(ye),me=function(t){function e(t){return v(t)?t:ke(t)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(ye),we=function(t){function e(t){return h(t)&&!y(t)?t:Ae(t)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e}(ye);ye.Keyed=ge,ye.Indexed=me,ye.Set=we;var be=0,Se=1,Ie=2,xe="function"==typeof Symbol&&Symbol.iterator,ze="@@iterator",Oe=xe||ze,Ee=function(t){this.next=t};Ee.prototype.toString=function(){return"[Iterator]"},Ee.KEYS=be,Ee.VALUES=Se,Ee.ENTRIES=Ie,Ee.prototype.inspect=Ee.prototype.toSource=function(){return""+this},Ee.prototype[Oe]=function(){return this};var Me=function(t){function e(t){return null==t?M():h(t)||i(t)?t.toSeq():function(t){var e=A(t);if(e)return e;if("object"==typeof t)return new Ce(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).of=function(){return e(arguments)},e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var r=this._cache;if(r){for(var n=r.length,i=0;i!==n;){var o=r[e?n-++i:i++];if(!1===t(o[1],o[0],this))break}return i}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(e,r){var n=this._cache;if(n){var i=n.length,o=0;return new Ee(function(){if(o===i)return{value:void 0,done:!0};var t=n[r?i-++o:o++];return w(e,t[0],t[1])})}return this.__iteratorUncached(e,r)},e}(ye),je=function(t){function e(t){return null==t?M().toKeyedSeq():h(t)?a(t)?t.toSeq():t.fromEntrySeq():i(t)?t.toSeq():j(t)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.toKeyedSeq=function(){return this},e}(Me),ke=function(t){function e(t){return null==t?M():h(t)?a(t)?t.entrySeq():t.toIndexedSeq():i(t)?t.toSeq().entrySeq():k(t)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Me),Ae=function(t){function e(t){return(h(t)&&!y(t)?t:ke(t)).toSetSeq()}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Me);Me.isSeq=E,Me.Keyed=je,Me.Set=Ae,Me.Indexed=ke;var De="@@__IMMUTABLE_SEQ__@@";Me.prototype[De]=!0;var qe=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.get=function(t,e){return this.has(t)?this._array[u(this,t)]:e},e.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length,i=0;i!==n;){var o=e?n-++i:i++;if(!1===t(r[o],o,this))break}return i},e.prototype.__iterator=function(e,r){var n=this._array,i=n.length,o=0;return new Ee(function(){if(o===i)return{value:void 0,done:!0};var t=r?i-++o:o++;return w(e,t,n[t])})},e}(ke),Ce=function(t){function e(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return this._object.hasOwnProperty(t)},e.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length,o=0;o!==i;){var u=n[e?i-++o:o++];if(!1===t(r[u],u,this))break}return o},e.prototype.__iterator=function(e,r){var n=this._object,i=this._keys,o=i.length,u=0;return new Ee(function(){if(u===o)return{value:void 0,done:!0};var t=i[r?o-++u:u++];return w(e,t,n[t])})},e}(je);Ce.prototype[de]=!0;var Ne,Re,Te=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=x(this._collection),n=0;if(I(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,n++,this););return n},e.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=x(this._collection);if(!I(r))return new Ee(b);var n=0;return new Ee(function(){var t=r.next();return t.done?t:w(e,n++,t.value)})},e}(ke),Le=function(t){function e(t){this._iterator=t,this._iteratorCache=[]}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.__iterateUncached=function(t,e){var r;if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(r=n.next()).done;){var u=r.value;if(!1===t(i[o]=u,o++,this))break}return o},e.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,i=0;return new Ee(function(){if(i>=n.length){var t=r.next();if(t.done)return t;n[i]=t.value}return w(e,i,n[i++])})},e}(ke),Ue="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0},Ke=Object.isExtensible,Be=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Pe="function"==typeof WeakMap;Pe&&(Re=new WeakMap);var Ve=0,He="__immutablehash__";"function"==typeof Symbol&&(He=Symbol(He));var We=16,$e=255,Je=0,Fe={},Qe=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=K(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var r=this,n=U(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},e.prototype.__iterate=function(r,t){var n=this;return this._iter.__iterate(function(t,e){return r(t,e,n)},t)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(je);Qe.prototype[de]=!0;var Ye=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(e,r){var n=this,i=0;return r&&c(this),this._iter.__iterate(function(t){return e(t,r?n.size-++i:i++,n)},r)},e.prototype.__iterator=function(e,r){var n=this,i=this._iter.__iterator(Se,r),o=0;return r&&c(this),new Ee(function(){var t=i.next();return t.done?t:w(e,r?n.size-++o:o++,t.value,t)})},e}(ke),Ze=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){return e(t,t,r)},t)},e.prototype.__iterator=function(e,t){var r=this._iter.__iterator(Se,t);return new Ee(function(){var t=r.next();return t.done?t:w(e,t.value,t.value,t)})},e}(Ae),Ge=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(r,t){var n=this;return this._iter.__iterate(function(t){if(t){Y(t);var e=h(t);return r(e?t.get(1):t[1],e?t.get(0):t[0],n)}},t)},e.prototype.__iterator=function(n,t){var i=this._iter.__iterator(Se,t);return new Ee(function(){for(;;){var t=i.next();if(t.done)return t;var e=t.value;if(e){Y(e);var r=h(e);return w(n,r?e.get(0):e[0],r?e.get(1):e[1],t)}}})},e}(je);Ye.prototype.cacheResult=Qe.prototype.cacheResult=Ze.prototype.cacheResult=Ge.prototype.cacheResult=X;var Xe=function(n){function t(e){return null==e?ct():ot(e)&&!g(e)?e:ct().withMutations(function(r){var t=n(e);nt(t.size),t.forEach(function(t,e){return r.set(e,t)})})}return n&&(t.__proto__=n),((t.prototype=Object.create(n&&n.prototype)).constructor=t).of=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return ct().withMutations(function(t){for(var e=0;e<r.length;e+=2){if(e+1>=r.length)throw Error("Missing value for key: "+r[e]);t.set(r[e],r[e+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},t.prototype.set=function(t,e){return ht(this,t,e)},t.prototype.setIn=function(t,e){return this.updateIn(t,ce,function(){return e})},t.prototype.remove=function(t){return ht(this,t,ce)},t.prototype.deleteIn=function(t){if((t=[].concat(et(t))).length){var e=t.pop();return this.updateIn(t,function(t){return t&&t.remove(e)})}},t.prototype.deleteAll=function(t){var r=ye(t);return 0===r.size?this:this.withMutations(function(e){r.forEach(function(t){return e.remove(t)})})},t.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},t.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=function t(e,r,n,i,o){var u=e===ce;if(n===r.length){var s=u?i:e,a=o(s);return a===s?e:a}if(!(u||e&&e.set))throw new TypeError("Invalid keyPath: Value at ["+r.slice(0,n).map(it)+"] does not have a .set() method and cannot be updated: "+e);var c=r[n],h=u?ce:e.get(c,ce),f=t(h,r,n+1,i,o);return f===h?e:f===ce?e.remove(c):(u?ct():e).set(c,f)}(this,et(t),0,e,r);return n===ce?e:n},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ct()},t.prototype.merge=function(){return _t(this,void 0,arguments)},t.prototype.mergeWith=function(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return _t(this,t,e)},t.prototype.mergeIn=function(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return this.updateIn(t,ct(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},t.prototype.mergeDeep=function(){return _t(this,dt,arguments)},t.prototype.mergeDeepWith=function(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return _t(this,vt(t),e)},t.prototype.mergeDeepIn=function(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return this.updateIn(t,ct(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},t.prototype.sort=function(t){return gr(W(this,t))},t.prototype.sortBy=function(t,e){return gr(W(this,e,t))},t.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},t.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new m)},t.prototype.asImmutable=function(){return this.__ensureOwner()},t.prototype.wasAltered=function(){return this.__altered},t.prototype.__iterator=function(t,e){return new ar(this,t,e)},t.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate(function(t){return n++,e(t[1],t[0],r)},t),n},t.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?at(this.size,this._root,t,this.__hash):0===this.size?ct():(this.__ownerID=t,this.__altered=!1,this)},t}(ge);Xe.isMap=ot;var tr="@@__IMMUTABLE_MAP__@@",er=Xe.prototype;er[tr]=!0,er.delete=er.remove,er.removeIn=er.deleteIn,er.removeAll=er.deleteAll;var rr=function(t,e){this.ownerID=t,this.entries=e};rr.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(D(r,i[o][0]))return i[o][1];return n},rr.prototype.update=function(t,e,r,n,i,o,u){for(var s=i===ce,a=this.entries,c=0,h=a.length;c<h&&!D(n,a[c][0]);c++);var f=c<h;if(f?a[c][1]===i:s)return this;if(_(u),(s||!f)&&_(o),!s||1!==a.length){if(!f&&!s&&a.length>=cr)return function(t,e,r,n){t||(t=new m);for(var i=new ur(t,R(r),[r,n]),o=0;o<e.length;o++){var u=e[o];i=i.update(t,0,void 0,u[0],u[1])}return i}(t,a,n,i);var p=t&&t===this.ownerID,l=p?a:d(a);return f?s?c===h-1?l.pop():l[c]=l.pop():l[c]=[n,i]:l.push([n,i]),p?(this.entries=l,this):new rr(t,l)}};var nr=function(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r};nr.prototype.get=function(t,e,r,n){void 0===e&&(e=R(r));var i=1<<((0===t?e:e>>>t)&ae),o=this.bitmap;return 0==(o&i)?n:this.nodes[gt(o&i-1)].get(t+ue,e,r,n)},nr.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=R(n));var s=(0===e?r:r>>>e)&ae,a=1<<s,c=this.bitmap,h=0!=(c&a);if(!h&&i===ce)return this;var f=gt(c&a-1),p=this.nodes,l=h?p[f]:void 0,_=ft(l,t,e+ue,r,n,i,o,u);if(_===l)return this;if(!h&&_&&p.length>=hr)return function(t,e,r,n,i){for(var o=0,u=Array(se),s=0;0!==r;s++,r>>>=1)u[s]=1&r?e[o++]:void 0;return u[n]=i,new ir(t,o+1,u)}(t,p,c,s,_);if(h&&!_&&2===p.length&&pt(p[1^f]))return p[1^f];if(h&&_&&1===p.length&&pt(_))return _;var d=t&&t===this.ownerID,v=h?_?c:c^a:c|a,y=h?_?mt(p,f,_,d):function(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=Array(n),o=0,u=0;u<n;u++)u===e&&(o=1),i[u]=t[u+o];return i}(p,f,d):function(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=Array(i),u=0,s=0;s<i;s++)s===e?(o[s]=r,u=-1):o[s]=t[s+u];return o}(p,f,_,d);return d?(this.bitmap=v,this.nodes=y,this):new nr(t,v,y)};var ir=function(t,e,r){this.ownerID=t,this.count=e,this.nodes=r};ir.prototype.get=function(t,e,r,n){void 0===e&&(e=R(r));var i=(0===t?e:e>>>t)&ae,o=this.nodes[i];return o?o.get(t+ue,e,r,n):n},ir.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=R(n));var s=(0===e?r:r>>>e)&ae,a=i===ce,c=this.nodes,h=c[s];if(a&&!h)return this;var f=ft(h,t,e+ue,r,n,i,o,u);if(f===h)return this;var p=this.count;if(h){if(!f&&--p<fr)return function(t,e,r,n){for(var i=0,o=0,u=Array(r),s=0,a=1,c=e.length;s<c;s++,a<<=1){var h=e[s];void 0!==h&&s!==n&&(i|=a,u[o++]=h)}return new nr(t,i,u)}(t,c,p,s)}else p++;var l=t&&t===this.ownerID,_=mt(c,s,f,l);return l?(this.count=p,this.nodes=_,this):new ir(t,p,_)};var or=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r};or.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(D(r,i[o][0]))return i[o][1];return n},or.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=R(n));var s=i===ce;if(r!==this.keyHash)return s?this:(_(u),_(o),lt(this,t,e,r,[n,i]));for(var a=this.entries,c=0,h=a.length;c<h&&!D(n,a[c][0]);c++);var f=c<h;if(f?a[c][1]===i:s)return this;if(_(u),(s||!f)&&_(o),s&&2===h)return new ur(t,this.keyHash,a[1^c]);var p=t&&t===this.ownerID,l=p?a:d(a);return f?s?c===h-1?l.pop():l[c]=l.pop():l[c]=[n,i]:l.push([n,i]),p?(this.entries=l,this):new or(t,this.keyHash,l)};var ur=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r};ur.prototype.get=function(t,e,r,n){return D(r,this.entry[0])?this.entry[1]:n},ur.prototype.update=function(t,e,r,n,i,o,u){var s=i===ce,a=D(n,this.entry[0]);return(a?i===this.entry[1]:s)?this:(_(u),s?void _(o):a?t&&t===this.ownerID?(this.entry[1]=i,this):new ur(t,this.keyHash,[n,i]):(_(o),lt(this,t,e,R(n),[n,i])))},rr.prototype.iterate=or.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===t(r[e?i-n:n]))return!1},nr.prototype.iterate=ir.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&!1===o.iterate(t,e))return!1}},ur.prototype.iterate=function(t,e){return t(this.entry)};var sr,ar=function(t){function e(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&st(t._root)}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).prototype.next=function(){for(var t=this,e=this._type,r=this._stack;r;){var n=r.node,i=r.index++,o=void 0;if(n.entry){if(0===i)return ut(e,n.entry)}else if(n.entries){if(i<=(o=n.entries.length-1))return ut(e,n.entries[t._reverse?o-i:i])}else if(i<=(o=n.nodes.length-1)){var u=n.nodes[t._reverse?o-i:i];if(u){if(u.entry)return ut(e,u.entry);r=t._stack=st(u,r)}continue}r=t._stack=t._stack.__prev}return{value:void 0,done:!0}},e}(Ee),cr=se/4,hr=se/2,fr=se/4,pr=function(r){function t(t){var e=It();if(null==t)return e;if(wt(t))return t;var n=r(t),i=n.size;return 0===i?e:(nt(i),0<i&&i<se?St(0,i,ue,null,new dr(n.toArray())):e.withMutations(function(r){r.setSize(i),n.forEach(function(t,e){return r.set(e,t)})}))}return r&&(t.__proto__=r),((t.prototype=Object.create(r&&r.prototype)).constructor=t).of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(t,e){if(0<=(t=u(this,t))&&t<this.size){var r=Ot(this,t+=this._origin);return r&&r.array[t&ae]}return e},t.prototype.set=function(t,e){return function(t,e,r){if((e=u(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Et(t,e).set(0,r):Et(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o=s(fe);return e>=jt(t._capacity)?n=xt(n,t.__ownerID,0,e,r,o):i=xt(i,t.__ownerID,t._level,e,r,o),o.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):St(t._origin,t._capacity,t._level,i,n):t}(this,t,e)},t.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},t.prototype.insert=function(t,e){return this.splice(t,0,e)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ue,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):It()},t.prototype.push=function(){var r=arguments,n=this.size;return this.withMutations(function(t){Et(t,0,n+r.length);for(var e=0;e<r.length;e++)t.set(n+e,r[e])})},t.prototype.pop=function(){return Et(this,0,-1)},t.prototype.unshift=function(){var r=arguments;return this.withMutations(function(t){Et(t,-r.length);for(var e=0;e<r.length;e++)t.set(e,r[e])})},t.prototype.shift=function(){return Et(this,1)},t.prototype.merge=function(){return Mt(this,void 0,arguments)},t.prototype.mergeWith=function(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return Mt(this,t,e)},t.prototype.mergeDeep=function(){return Mt(this,dt,arguments)},t.prototype.mergeDeepWith=function(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return Mt(this,vt(t),e)},t.prototype.setSize=function(t){return Et(this,0,t)},t.prototype.slice=function(t,e){var r=this.size;return f(t,e,r)?this:Et(this,p(t,r),l(e,r))},t.prototype.__iterator=function(e,r){var n=r?this.size:0,i=bt(this,r);return new Ee(function(){var t=i();return t===yr?{value:void 0,done:!0}:w(e,r?--n:n++,t)})},t.prototype.__iterate=function(t,e){for(var r,n=e?this.size:0,i=bt(this,e);(r=i())!==yr&&!1!==t(r,e?--n:n++,this););return n},t.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?St(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?It():(this.__ownerID=t,this)},t}(me);pr.isList=wt;var lr="@@__IMMUTABLE_LIST__@@",_r=pr.prototype;_r[lr]=!0,_r.delete=_r.remove,_r.setIn=er.setIn,_r.deleteIn=_r.removeIn=er.removeIn,_r.update=er.update,_r.updateIn=er.updateIn,_r.mergeIn=er.mergeIn,_r.mergeDeepIn=er.mergeDeepIn,_r.withMutations=er.withMutations,_r.asMutable=er.asMutable,_r.asImmutable=er.asImmutable,_r.wasAltered=er.wasAltered;var dr=function(t,e){this.array=t,this.ownerID=e};dr.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&ae;if(n>=this.array.length)return new dr([],t);var i,o=0===n;if(0<e){var u=this.array[n];if((i=u&&u.removeBefore(t,e-ue,r))===u&&o)return this}if(o&&!i)return this;var s=zt(this,t);if(!o)for(var a=0;a<n;a++)s.array[a]=void 0;return i&&(s.array[n]=i),s},dr.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,i=r-1>>>e&ae;if(i>=this.array.length)return this;if(0<e){var o=this.array[i];if((n=o&&o.removeAfter(t,e-ue,r))===o&&i===this.array.length-1)return this}var u=zt(this,t);return u.array.splice(i+1),n&&(u.array[i]=n),u};var vr,yr={},gr=function(t){function e(e){return null==e?Dt():kt(e)?e:Dt().withMutations(function(r){var t=ge(e);nt(t.size),t.forEach(function(t,e){return r.set(e,t)})})}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Dt()},e.prototype.set=function(t,e){return qt(this,t,e)},e.prototype.remove=function(t){return qt(this,t,ce)},e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},e.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],r)},t)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?At(e,r,t,this.__hash):0===this.size?Dt():(this.__ownerID=t,this._map=e,this._list=r,this)},e}(Xe);gr.isOrderedMap=kt,gr.prototype[de]=!0,gr.prototype.delete=gr.prototype.remove;var mr,wr=function(o){function t(t){return null==t?Rt():Ct(t)?t:Rt().pushAll(t)}return o&&(t.__proto__=o),((t.prototype=Object.create(o&&o.prototype)).constructor=t).of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(t,e){var r=this._head;for(t=u(this,t);r&&t--;)r=r.next;return r?r.value:e},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,r=this._head,n=arguments.length-1;0<=n;n--)r={value:t[n],next:r};return this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Nt(e,r)},t.prototype.pushAll=function(t){if(0===(t=o(t)).size)return this;if(0===this.size&&Ct(t))return t;nt(t.size);var e=this.size,r=this._head;return t.__iterate(function(t){e++,r={value:t,next:r}},!0),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Nt(e,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Rt()},t.prototype.slice=function(t,e){if(f(t,e,this.size))return this;var r=p(t,this.size);if(l(e,this.size)!==this.size)return o.prototype.slice.call(this,t,e);for(var n=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):Nt(n,i)},t.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Nt(this.size,this._head,t,this.__hash):0===this.size?Rt():(this.__ownerID=t,this.__altered=!1,this)},t.prototype.__iterate=function(r,t){var n=this;if(t)return new qe(this.toArray()).__iterate(function(t,e){return r(t,e,n)},t);for(var e=0,i=this._head;i&&!1!==r(i.value,e++,n);)i=i.next;return e},t.prototype.__iterator=function(e,t){if(t)return new qe(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new Ee(function(){if(n){var t=n.value;return n=n.next,w(e,r++,t)}return{value:void 0,done:!0}})},t}(me);wr.isStack=Ct;var br="@@__IMMUTABLE_STACK__@@",Sr=wr.prototype;Sr[br]=!0,Sr.withMutations=er.withMutations,Sr.asMutable=er.asMutable,Sr.asImmutable=er.asImmutable,Sr.wasAltered=er.wasAltered,Sr.shift=Sr.pop,Sr.unshift=Sr.push,Sr.unshiftAll=Sr.pushAll;var Ir,xr=function(n){function e(r){return null==r?Pt():Ut(r)&&!g(r)?r:Pt().withMutations(function(e){var t=n(r);nt(t.size),t.forEach(function(t){return e.add(t)})})}return n&&(e.__proto__=n),((e.prototype=Object.create(n&&n.prototype)).constructor=e).of=function(){return this(arguments)},e.fromKeys=function(t){return this(ge(t).keySeq())},e.intersect=function(t){return(t=ye(t).toArray()).length?Or.intersect.apply(e(t.pop()),t):Pt()},e.union=function(t){return(t=ye(t).toArray()).length?Or.union.apply(e(t.pop()),t):Pt()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return Kt(this,this._map.set(t,!0))},e.prototype.remove=function(t){return Kt(this,this._map.remove(t))},e.prototype.clear=function(){return Kt(this,this._map.clear())},e.prototype.union=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return 0===(r=r.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations(function(e){for(var t=0;t<r.length;t++)n(r[t]).forEach(function(t){return e.add(t)})}):this.constructor(r[0])},e.prototype.intersect=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(0===t.length)return this;t=t.map(function(t){return n(t)});var r=[];return this.forEach(function(e){t.every(function(t){return t.includes(e)})||r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},e.prototype.subtract=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(0===t.length)return this;var r=[];return this.forEach(function(e){t.some(function(t){return t.includes(e)})&&r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},e.prototype.merge=function(){return this.union.apply(this,arguments)},e.prototype.mergeWith=function(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return this.union.apply(this,e)},e.prototype.sort=function(t){return qr(W(this,t))},e.prototype.sortBy=function(t,e){return qr(W(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(r,t){var n=this;return this._map.__iterate(function(t,e){return r(e,e,n)},t)},e.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?Pt():(this.__ownerID=t,this._map=e,this)},e}(we);xr.isSet=Ut;var zr="@@__IMMUTABLE_SET__@@",Or=xr.prototype;Or[zr]=!0,Or.delete=Or.remove,Or.mergeDeep=Or.merge,Or.mergeDeepWith=Or.mergeWith,Or.withMutations=er.withMutations,Or.asMutable=er.asMutable,Or.asImmutable=er.asImmutable,Or.__empty=Pt,Or.__make=Bt;var Er,Mr,jr=function(t){function n(t,e,r){if(!(this instanceof n))return new n(t,e,r);if(rt(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,0===(this.size=Math.max(0,Math.ceil((e-t)/r-1)+1))){if(Mr)return Mr;Mr=this}}return t&&(n.__proto__=t),((n.prototype=Object.create(t&&t.prototype)).constructor=n).prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},n.prototype.get=function(t,e){return this.has(t)?this._start+u(this,t)*this._step:e},n.prototype.includes=function(t){var e=(t-this._start)/this._step;return 0<=e&&e<this.size&&e===Math.floor(e)},n.prototype.slice=function(t,e){return f(t,e,this.size)?this:(t=p(t,this.size),(e=l(e,this.size))<=t?new n(0,0):new n(this.get(t,this._end),this.get(e,this._end),this._step))},n.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(0<=r&&r<this.size)return r}return-1},n.prototype.lastIndexOf=function(t){return this.indexOf(t)},n.prototype.__iterate=function(t,e){for(var r=this.size,n=this._step,i=e?this._start+(r-1)*n:this._start,o=0;o!==r&&!1!==t(i,e?r-++o:o++,this);)i+=e?-n:n;return o},n.prototype.__iterator=function(e,r){var n=this.size,i=this._step,o=r?this._start+(n-1)*i:this._start,u=0;return new Ee(function(){if(u===n)return{value:void 0,done:!0};var t=o;return o+=r?-i:i,w(e,r?n-++u:u++,t)})},n.prototype.equals=function(t){return t instanceof n?this._start===t._start&&this._end===t._end&&this._step===t._step:Tt(this,t)},n}(ke);ye.isIterable=h,ye.isKeyed=a,ye.isIndexed=v,ye.isAssociative=y,ye.isOrdered=g,ye.Iterator=Ee,Lt(ye,{toArray:function(){nt(this.size);var r=Array(this.size||0);return this.valueSeq().__iterate(function(t,e){r[e]=t}),r},toIndexedSeq:function(){return new Ye(this)},toJS:function(){return this.toSeq().map($t).toJSON()},toKeyedSeq:function(){return new Qe(this,!0)},toMap:function(){return Xe(this.toKeyedSeq())},toObject:function(){nt(this.size);var r={};return this.__iterate(function(t,e){r[e]=t}),r},toOrderedMap:function(){return gr(this.toKeyedSeq())},toOrderedSet:function(){return qr(a(this)?this.valueSeq():this)},toSet:function(){return xr(a(this)?this.valueSeq():this)},toSetSeq:function(){return new Ze(this)},toSeq:function(){return v(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wr(a(this)?this.valueSeq():this)},toList:function(){return pr(a(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Q(this,function(t,e){var r=a(t),n=[t].concat(e).map(function(t){return h(t)?r&&(t=ge(t)):t=r?j(t):k(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===n.length)return t;if(1===n.length){var i=n[0];if(i===t||r&&a(i)||v(t)&&v(i))return i}var o=new qe(n);return r?o=o.toKeyedSeq():v(t)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=n.reduce(function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}},0),o}(this,t))},includes:function(e){return this.some(function(t){return D(t,e)})},entries:function(){return this.__iterator(Ie)},every:function(n,i){nt(this.size);var o=!0;return this.__iterate(function(t,e,r){if(!n.call(i,t,e,r))return o=!1}),o},filter:function(t,e){return Q(this,B(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return nt(this.size),this.__iterate(e?t.bind(e):t)},join:function(e){nt(this.size),e=void 0!==e?""+e:",";var r="",n=!0;return this.__iterate(function(t){n?n=!1:r+=e,r+=null!=t?""+t:""}),r},keys:function(){return this.__iterator(be)},map:function(t,e){return Q(this,U(this,t,e))},reduce:function(t,e,r){return Vt(this,t,e,r,arguments.length<2,!1)},reduceRight:function(t,e,r){return Vt(this,t,e,r,arguments.length<2,!0)},reverse:function(){return Q(this,K(this,!0))},slice:function(t,e){return Q(this,P(this,t,e,!0))},some:function(t,e){return!this.every(Jt(t),e)},sort:function(t){return Q(this,W(this,t))},values:function(){return this.__iterator(Se)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return c(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return r=this,n=t,i=e,o=Xe().asMutable(),r.__iterate(function(t,e){o.update(n.call(i,t,e,r),0,function(t){return t+1})}),o.asImmutable();var r,n,i,o},equals:function(t){return Tt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new qe(t._cache);var e=t.toSeq().map(Wt).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e.toJS=function(){return this.map(function(t){return[$t(t[0]),$t(t[1])]}).toJSON()},e},filterNot:function(t,e){return this.filter(Jt(t),e)},findEntry:function(n,i,t){var o=t;return this.__iterate(function(t,e,r){if(n.call(i,t,e,r))return o=[e,t],!1}),o},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(){return this.find(e)},flatMap:function(t,e){return Q(this,(n=t,i=e,o=Z(r=this),r.toSeq().map(function(t,e){return o(n.call(i,t,e,r))}).flatten(!0)));var r,n,i,o},flatten:function(t){return Q(this,H(this,t,!0))},fromEntrySeq:function(){return new Ge(this)},get:function(r,t){return this.find(function(t,e){return D(e,r)},void 0,t)},getIn:function(t,e){for(var r=this,n=et(t),i=0;i!==n.length;){if(!r||!r.get)throw new TypeError("Invalid keyPath: Value at ["+n.slice(0,i).map(it)+"] does not have a .get() method: "+r);if((r=r.get(n[i++],ce))===ce)return e}return r},groupBy:function(t,e){return function(n,t,i){var o=a(n),u=(g(n)?gr():Xe()).asMutable();n.__iterate(function(e,r){u.update(t.call(i,e,r,n),function(t){return(t=t||[]).push(o?[r,e]:e),t})});var e=Z(n);return u.map(function(t){return Q(n,e(t))})}(this,t,e)},has:function(t){return this.get(t,ce)!==ce},hasIn:function(t){return this.getIn(t,ce)!==ce},isSubset:function(e){return e="function"==typeof e.includes?e:ye(e),this.every(function(t){return e.includes(t)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:ye(t)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return D(t,e)})},keySeq:function(){return this.toSeq().map(Ht).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return $(this,t)},maxBy:function(t,e){return $(this,e,t)},min:function(t){return $(this,t?Ft(t):Yt)},minBy:function(t,e){return $(this,e?Ft(e):Yt,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return Q(this,V(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Jt(t),e)},sortBy:function(t,e){return Q(this,W(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return Q(this,(a=t,c=e,(n=G(r=this)).__iterateUncached=function(n,t){var i=this;if(t)return this.cacheResult().__iterate(n,t);var o=0;return r.__iterate(function(t,e,r){return a.call(c,t,e,r)&&++o&&n(t,e,i)}),o},n.__iteratorUncached=function(i,t){var o=this;if(t)return this.cacheResult().__iterator(i,t);var u=r.__iterator(Ie,t),s=!0;return new Ee(function(){if(!s)return{value:void 0,done:!0};var t=u.next();if(t.done)return t;var e=t.value,r=e[0],n=e[1];return a.call(c,n,r,o)?i===Ie?t:w(i,r,n,t):(s=!1,{value:void 0,done:!0})})},n));var r,a,c,n},takeUntil:function(t,e){return this.takeWhile(Jt(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Zt(this))}});var kr=ye.prototype;kr[pe]=!0,kr[Oe]=kr.values,kr.toJSON=kr.toArray,kr.__toStringMapper=it,kr.inspect=kr.toSource=function(){return""+this},kr.chain=kr.flatMap,kr.contains=kr.includes,Lt(ge,{flip:function(){return Q(this,L(this))},mapEntries:function(r,n){var i=this,o=0;return Q(this,this.toSeq().map(function(t,e){return r.call(n,[e,t],o++,i)}).fromEntrySeq())},mapKeys:function(r,n){var i=this;return Q(this,this.toSeq().flip().map(function(t,e){return r.call(n,t,e,i)}).flip())}});var Ar=ge.prototype;Ar[le]=!0,Ar[Oe]=kr.entries,Ar.toJSON=kr.toObject,Ar.__toStringMapper=function(t,e){return it(e)+": "+it(t)},Lt(me,{toKeyedSeq:function(){return new Qe(this,!1)},filter:function(t,e){return Q(this,B(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Q(this,K(this,!1))},slice:function(t,e){return Q(this,P(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(e||0,0),0===r||2===r&&!e)return this;t=p(t,t<0?this.count():this.size);var n=this.slice(0,t);return Q(this,1===r?n:n.concat(d(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(t){return Q(this,H(this,t,!1))},get:function(r,t){return(r=u(this,r))<0||this.size===1/0||void 0!==this.size&&r>this.size?t:this.find(function(t,e){return e===r},void 0,t)},has:function(t){return 0<=(t=u(this,t))&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Q(this,(u=t,(e=G(o=this)).size=o.size&&2*o.size-1,e.__iterateUncached=function(e,t){var r=this,n=0;return o.__iterate(function(t){return(!n||!1!==e(u,n++,r))&&!1!==e(t,n++,r)},t),n},e.__iteratorUncached=function(t,e){var r,n=o.__iterator(Se,e),i=0;return new Ee(function(){return(!r||i%2)&&(r=n.next()).done?r:i%2?w(t,i++,u):w(t,i++,r.value,r)})},e));var o,u,e},interleave:function(){var t=[this].concat(d(arguments)),e=F(this.toSeq(),ke.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),Q(this,r)},keySeq:function(){return jr(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Q(this,V(this,t,e,!1))},zip:function(){return Q(this,F(this,Qt,[this].concat(d(arguments))))},zipWith:function(t){var e=d(arguments);return Q(e[0]=this,F(this,t,e))}});var Dr=me.prototype;Dr[_e]=!0,Dr[de]=!0,Lt(we,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),we.prototype.has=kr.includes,we.prototype.contains=we.prototype.includes,Lt(je,ge.prototype),Lt(ke,me.prototype),Lt(Ae,we.prototype);var qr=function(t){function e(r){return null==r?ee():Xt(r)?r:ee().withMutations(function(e){var t=we(r);nt(t.size),t.forEach(function(t){return e.add(t)})})}return t&&(e.__proto__=t),((e.prototype=Object.create(t&&t.prototype)).constructor=e).of=function(){return this(arguments)},e.fromKeys=function(t){return this(ge(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(xr);qr.isOrderedSet=Xt;var Cr=qr.prototype;Cr[de]=!0,Cr.zip=Dr.zip,Cr.zipWith=Dr.zipWith,Cr.__empty=ee,Cr.__make=te;var Nr,Rr=function(u,s){var a,c=function(t){var n=this;if(t instanceof c)return t;if(!(this instanceof c))return new c(t);if(!a){a=!0;var e=Object.keys(u),r=h._indices={};h._name=s,h._keys=e,h._defaultValues=u;for(var i=0;i<e.length;i++){var o=e[i];r[o]=i,h[o]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+ne(n)+' with property "'+o+'" since that property name is part of the Record API.'):oe(h,o)}}this.__ownerID=void 0,this._values=pr().withMutations(function(r){r.setSize(n._keys.length),ge(t).forEach(function(t,e){r.set(n._indices[e],t===n._defaultValues[e]?void 0:t)})})},h=c.prototype=Object.create(Tr);return h.constructor=c};Rr.prototype.toString=function(){for(var t,e=ne(this)+" { ",r=this._keys,n=0,i=r.length;n!==i;n++)e+=(n?", ":"")+(t=r[n])+": "+it(this.get(t));return e+" }"},Rr.prototype.equals=function(t){return this===t||this._keys===t._keys&&ie(this).equals(ie(t))},Rr.prototype.hashCode=function(){return ie(this).hashCode()},Rr.prototype.has=function(t){return this._indices.hasOwnProperty(t)},Rr.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._indices[t],n=this._values.get(r);return void 0===n?this._defaultValues[t]:n},Rr.prototype.set=function(t,e){if(this.has(t)){var r=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(r!==this._values&&!this.__ownerID)return re(this,r)}return this},Rr.prototype.remove=function(t){return this.set(t)},Rr.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:re(this,t)},Rr.prototype.wasAltered=function(){return this._values.wasAltered()},Rr.prototype.toSeq=function(){return ie(this)},Rr.prototype.toJS=function(){return ie(this).toJS()},Rr.prototype.__iterator=function(t,e){return ie(this).__iterator(t,e)},Rr.prototype.__iterate=function(t,e){return ie(this).__iterate(t,e)},Rr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?re(this,e,t):(this.__ownerID=t,this._values=e,this)},Rr.isRecord=i,Rr.getDescriptiveName=ne;var Tr=Rr.prototype;Tr[ve]=!0,Tr.delete=Tr.remove,Tr.getIn=kr.getIn,Tr.hasIn=kr.hasIn,Tr.merge=er.merge,Tr.mergeWith=er.mergeWith,Tr.mergeIn=er.mergeIn,Tr.mergeDeep=er.mergeDeep,Tr.mergeDeepWith=er.mergeDeepWith,Tr.mergeDeepIn=er.mergeDeepIn,Tr.setIn=er.setIn,Tr.update=er.update,Tr.updateIn=er.updateIn,Tr.withMutations=er.withMutations,Tr.asMutable=er.asMutable,Tr.asImmutable=er.asImmutable,Tr[Oe]=kr.entries,Tr.toJSON=Tr.toObject=kr.toObject,Tr.inspect=Tr.toSource=kr.toSource;var Lr,Ur=function(t){function n(t,e){if(!(this instanceof n))return new n(t,e);if(this._value=t,0===(this.size=void 0===e?1/0:Math.max(0,e))){if(Lr)return Lr;Lr=this}}return t&&(n.__proto__=t),((n.prototype=Object.create(t&&t.prototype)).constructor=n).prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},n.prototype.get=function(t,e){return this.has(t)?this._value:e},n.prototype.includes=function(t){return D(this._value,t)},n.prototype.slice=function(t,e){var r=this.size;return f(t,e,r)?this:new n(this._value,l(e,r)-p(t,r))},n.prototype.reverse=function(){return this},n.prototype.indexOf=function(t){return D(this._value,t)?0:-1},n.prototype.lastIndexOf=function(t){return D(this._value,t)?this.size:-1},n.prototype.__iterate=function(t,e){for(var r=this.size,n=0;n!==r&&!1!==t(this._value,e?r-++n:n++,this););return n},n.prototype.__iterator=function(t,e){var r=this,n=this.size,i=0;return new Ee(function(){return i===n?{value:void 0,done:!0}:w(t,e?n-++i:i++,r._value)})},n.prototype.equals=function(t){return t instanceof n?D(this._value,t._value):Tt(t)},n}(ke),Kr={Collection:ye,Iterable:ye,Seq:Me,Map:Xe,OrderedMap:gr,List:pr,Stack:wr,Set:xr,OrderedSet:qr,Record:Rr,Range:jr,Repeat:Ur,is:D,fromJS:q,hash:R,isImmutable:n,isCollection:h,isKeyed:a,isIndexed:v,isAssociative:y,isOrdered:g,isValueObject:o},Br=ye;t.default=Kr,t.Collection=ye,t.Iterable=Br,t.Seq=Me,t.Map=Xe,t.OrderedMap=gr,t.List=pr,t.Stack=wr,t.Set=xr,t.OrderedSet=qr,t.Record=Rr,t.Range=jr,t.Repeat=Ur,t.is=D,t.fromJS=q,t.hash=R,t.isImmutable=n,t.isCollection=h,t.isKeyed=a,t.isIndexed=v,t.isAssociative=y,t.isOrdered=g,t.isValueObject=o,Object.defineProperty(t,"__esModule",{value:!0})}),function(c){c.fn.serializeJSON=function(){var o,t;return o={},t=this.serializeArray(),c.each(t,function(t,e){var r,n,i;r=e.name,n=e.value,""===(i=c.map(r.split("["),function(t){return"]"===t[t.length-1]?t.substring(0,t.length-1):t}))[0]&&i.shift(),c.deepSet(o,i,n)}),o};c.deepSet=function(t,e,r){var n,i,o,u,s,a;if(!e||0===e.length)throw new Error("ArgumentError: keys param expected to be an array with least one key");n=e[0],1==e.length?""===n?t.push(r):t[n]=r:(i=e[1],""===n&&(u=t.length-1,s=t[t.length-1],(a=s)!==Object(a)||s[i]?(t.push({}),n=u+1):n=u),void 0===t[n]&&(""===i||/^[0-9]+$/.test(String(i))?t[n]=[]:t[n]={}),o=e.slice(1),c.deepSet(t[n],o,r))}}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.riot=t.riot||{})}(this,function(t){"use strict";function s(t){return Rt.test(t)}function m(t){return typeof t===Et}function w(t){return t&&typeof t===zt}function c(t){return typeof t===Ot}function x(t){return typeof t===xt}function b(t){return c(t)||null===t||""===t}function z(t){return Array.isArray(t)||t instanceof Array}function u(t,e){var r=Object.getOwnPropertyDescriptor(t,e);return c(t[e])||r&&r.writable}function o(t){return qt.test(t)}function a(t,e){return Array.prototype.slice.call((e||document).querySelectorAll(t))}function h(t,e){return(e||document).querySelector(t)}function O(){return document.createDocumentFragment()}function E(){return document.createTextNode("")}function S(t){return!!t.ownerSVGElement}function f(t){return"svg"===t?document.createElementNS(jt,t):document.createElement(t)}function I(t,e){if(c(t.innerHTML)){var r=(new DOMParser).parseFromString(e,"application/xml"),n=t.ownerDocument.importNode(r.documentElement,!0);t.appendChild(n)}else t.innerHTML=e}function M(t,e){t.style.display=e?"":"none",t.hidden=!e}function j(t,e){t.removeAttribute(e)}function k(r){return Object.keys(r).reduce(function(t,e){return t+" "+e+": "+r[e]+";"},"")}function A(t,e){return t.getAttribute(e)}function D(t,e,r){var n=kt.exec(e);n&&n[1]?t.setAttributeNS(Mt,n[1],r):t.setAttribute(e,r)}function q(t,e,r){t.insertBefore(e,r.parentNode&&r)}function C(t,e){if(t)for(var r;r=Ct.exec(t);)e(r[1].toLowerCase(),r[2]||r[3]||r[4])}function l(t,e,r){if(t){var n,i=e(t,r);if(!1===i)return;for(t=t.firstChild;t;)n=t.nextSibling,l(t,e,i),t=n}}function N(t,e){for(var r=t?t.length:0,n=0;n<r;++n)e(t[n],n);return t}function R(t,e){return-1!==t.indexOf(e)}function p(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function T(t,e){return t.slice(0,e.length)===e}function L(t,e,r,n){return Object.defineProperty(t,e,U({value:r,enumerable:!1,writable:!1,configurable:!0},n)),t}function U(t){for(var e,r=arguments,n=1;n<r.length;++n)if(e=r[n])for(var i in e)u(t,i)&&(t[i]=e[i]);return t}function K(t,e,r,n){var i,o=function(t,e,r){var n=this.__.parent,i=this.__.item;if(!i)for(;n&&!i;)i=n.__.item,n=n.__.parent;if(u(r,"currentTarget")&&(r.currentTarget=t),u(r,"target")&&(r.target=r.srcElement),u(r,"which")&&(r.which=r.charCode||r.keyCode),r.item=i,e.call(this,r),Qt.autoUpdate&&!r.preventUpdate){var o=X(this);o.isMounted&&o.update()}}.bind(n,r,e);r[t]=null,i=t.replace(Dt,""),R(n.__.listeners,r)||n.__.listeners.push(r),r[It]||(r[It]={}),r[It][t]&&r.removeEventListener(i,r[It][t]),r[It][t]=o,r.addEventListener(i,o,!1)}function e(t){if(!this.root||!A(this.root,"virtualized")){var e,r,n,i=t.dom,o=(g=t.attr)?(g=g.replace(dt,""),Nt[g]&&(g=Nt[g]),g):null,u=R([bt,St],o),s=t.root&&"VIRTUAL"===t.root.tagName,a=i&&(t.parent||i.parentNode),c="style"===o,h="class"===o;if(t._riot_id)t.isMounted?t.update():(t.mount(),s&&ut(t,t.root));else{if(t.update)return t.update();if(e=!b(n=$t(t.expr,u?U({},Object.create(this.parent),this):this)),(r=w(n))&&(r=!h&&!c,h?n=$t(JSON.stringify(n),this):c&&(n=k(n))),!t.attr||t.isAttrRemoved&&e&&!1!==n||(j(i,t.attr),t.isAttrRemoved=!0),t.bool&&(n=!!n&&o),t.isRtag)return p=this,l=n,void((f=t).tag&&f.tagName===l?f.tag.update():(d="VIRTUAL"===f.dom.tagName,f.tag&&(d&&(v=f.tag.__.head,y=E(),v.parentNode.insertBefore(y,v)),f.tag.unmount(!0)),x(l)&&(f.impl=lt[l],_={root:f.dom,parent:p,hasImpl:!0,tagName:l},f.tag=G(f.impl,_,f.dom.innerHTML,p),N(f.attrs,function(t){return D(f.tag.root,t.name,t.value)}),f.tagName=l,f.tag.mount(),d&&ut(f.tag,y||f.tag.root),p.__.onUnmount=function(){var t=f.tag.opts.dataIs,e=f.tag.parent.tags,r=f.tag.__.parent.tags;it(e,t,f.tag),it(r,t,f.tag),f.tag.unmount()})));if((!t.wasParsedOnce||t.value!==n)&&(t.value=n,t.wasParsedOnce=!0,!r||u)){if(b(n)&&(n=""),!o)return n+="",void(a&&("TEXTAREA"===(t.parent=a).tagName?(a.value=n,Tt||(i.nodeValue=n)):i.nodeValue=n));m(n)?K(o,n,i,this):u?M(i,o===St?!n:n):(t.bool&&(i[o]=n),"value"===o&&i.value!==n&&(i.value=n),e&&!1!==n&&D(i,o,n),c&&i.hidden&&M(i,!1))}}}var f,p,l,_,d,v,y,g}function B(t){N(t,e.bind(this))}function P(t,e,r,n){var i=n?Object.create(n):{};return i[t.key]=e,t.pos&&(i[t.pos]=r),i}function i(t,e){t.splice(e,1),this.unmount(),it(this.parent,this,this.__.tagName,!0)}function _(p,l,_){j(p,mt);var d,v=typeof A(p,wt)!==xt||j(p,wt),y=et(p),g=lt[y],t=p.parentNode,e=E(),m=Q(p),n=A(p,gt),w=[],b=[],S=!lt[y],I="VIRTUAL"===p.tagName;return(_=$t.loopKeys(_)).isLoop=!0,n&&j(p,gt),t.insertBefore(e,p),t.removeChild(p),_.update=function(){_.value=$t(_.val,l);var c=O(),h=_.value,r=!z(h)&&!x(h),f=e.parentNode;f&&(r?h=(d=h||!1)?Object.keys(h).map(function(t){return P(_,h[t],t)}):[]:d=!1,n&&(h=h.filter(function(t,e){return _.key&&!r?!!$t(n,P(_,t,e,l)):!!$t(n,U(Object.create(l),t))})),N(h,function(t,e){var r=v&&typeof t===zt&&!d,n=b.indexOf(t),i=-1===n,o=!i&&r?n:e,u=w[o],s=e>=b.length,a=r&&i||!r&&!u;t=!d&&_.key?P(_,t,e):t,a?((u=new F(g,{parent:l,isLoop:!0,isAnonymous:S,tagName:y,root:p.cloneNode(S),item:t,index:e},p.innerHTML)).mount(),s?function(t,e){e?st.call(this,t):t.appendChild(this.root)}.apply(u,[c||f,I]):function(t,e,r){r?st.apply(this,[t,e]):q(t,this.root,e.root)}.apply(u,[f,w[e],I]),s||b.splice(e,0,t),w.splice(e,0,u),m&&nt(l.tags,y,u,!0)):o!==e&&r&&(R(h,b[o])&&(function(t,e,r){r?at.apply(this,[t,e]):q(t,this.root,e.root)}.apply(u,[f,w[e],I]),w.splice(e,0,w.splice(o,1)[0]),b.splice(e,0,b.splice(o,1)[0])),_.pos&&(u[_.pos]=e),!m&&u.tags&&function(e){var r=this;N(Object.keys(this.tags),function(t){Z.apply(r.tags[t],[t,e])})}.call(u,e)),u.__.item=t,u.__.index=e,u.__.parent=l,a||u.update(t)}),function(t,e){for(var r=e.length,n=t.length;n<r;)i.apply(e[--r],[e,r])}(h,w),b=h.slice(),f.insertBefore(c,e))},_.unmount=function(){N(w,function(t){t.unmount()})},_}function V(h,t,f){var p=this;l(h,function(t,e){var r,n,i,o=t.nodeType,u=e.parent;if(!f&&t===h)return{parent:u};if(3===o&&"STYLE"!==t.parentNode.tagName&&$t.hasExpr(t.nodeValue)&&u.children.push({dom:t,expr:t.nodeValue}),1!==o)return e;var s="VIRTUAL"===t.tagName;if(r=A(t,mt))return s&&D(t,"loopVirtual",!0),u.children.push(_(t,p,r)),!1;if(r=A(t,gt))return u.children.push(Object.create(Yt).init(t,p,r)),!1;if((n=A(t,yt))&&$t.hasExpr(n))return u.children.push({isRtag:!0,expr:n,dom:t,attrs:[].slice.call(t.attributes)}),!1;if(i=Q(t),s&&(A(t,"virtualized")&&t.parentElement.removeChild(t),i||A(t,"virtualized")||A(t,"loopVirtual")||(i={tmpl:t.outerHTML})),i&&(t!==h||f)){if(!s||A(t,yt)){var a={root:t,parent:p,hasImpl:!0};return u.children.push(G(i,a,t.innerHTML,p)),!1}D(t,"virtualized",!0);var c=new F({tmpl:t.outerHTML},{root:t,parent:p},t.innerHTML);u.children.push(c)}return H.apply(p,[t,t.attributes,function(t,e){e&&u.children.push(e)}]),{parent:u}},{parent:{children:t}})}function H(i,t,o){var u=this;N(t,function(t){if(!t)return!1;var e,r=t.name,n=s(r);R(vt,r)?e=Object.create(Zt).init(i,u,r,t.value):$t.hasExpr(t.value)&&(e={dom:i,expr:t.value,attr:r,bool:n}),o(t,e)})}function W(t,e,r){var n=t&&t.match(/^\s*<([-\w]+)/),i=n&&n[1].toLowerCase(),o=f(r?oe:ie);return t=function(t,r){if(!Gt.test(t))return t;var n={};return r=r&&r.replace(te,function(t,e,r){return n[e]=n[e]||r,""}).trim(),t.replace(ee,function(t,e,r){return n[e]||r||""}).replace(Xt,function(t,e){return r||e||""})}(t,e),ne.test(i)?o=function(t,e,r){var n="o"===r[0],i=n?"select>":"table>";if(t.innerHTML="<"+i+e.trim()+"</"+i,i=t.firstChild,n)i.selectedIndex=-1;else{var o=re[r];o&&1===i.childElementCount&&(i=h(o,i))}return i}(o,t,i):I(o,t),o}function r(t,e){var r=this,n=r.name,i=r.tmpl,o=r.css,u=r.attrs,s=r.onCreate;return lt[n]||(d(n,i,o,u,s),lt[n].class=this.constructor),ot(t,n,e,this),o&&Vt.inject(),this}function d(t,e,r,n,i){return m(n)&&(i=n,/^[\w\-]+\s?=/.test(r)?(n=r,r=""):n=""),r&&(m(r)?i=r:Vt.add(r)),t=t.toLowerCase(),lt[t]={name:t,tmpl:e,attrs:n,fn:i},t}function n(t,e,r,n,i){return r&&Vt.add(r,t),lt[t]={name:t,tmpl:e,attrs:n,fn:i},t}function v(t,i,o){var e,r,u=[];if(Vt.inject(),w(i)&&(o=i,i=0),e=x(t)?(t="*"===t?r=ct():t+ct(t.split(/, */)))?a(t):[]:t,"*"===i){if(i=r||ct(),e.tagName)e=a(i,e);else{var n=[];N(e,function(t){return n.push(a(i,t))}),e=n}i=0}return function t(e){if(e.tagName){var r,n=A(e,yt);i&&n!==i&&D(e,yt,n=i),(r=ot(e,n||e.tagName.toLowerCase(),o))&&u.push(r)}else e.length&&N(e,t)}(e),u}function $(t,e,r){if(w(t))$("__"+ae+++"__",t,!0);else{var n=r?se:ue;if(!e){if(c(n[t]))throw new Error("Unregistered mixin: "+t);return n[t]}n[t]=m(e)?U(e.prototype,n[t]||{})&&e:U(n[t]||{},e)}}function y(){return N(pt,function(t){return t.update()})}function g(t){lt[t]=null}function J(t,e,r,n,i){if(!t||!r){var o=!r&&t?this:e||this;N(i,function(t){t.expr&&B.call(o,[t.expr]),n[p(t.name).replace(dt,"")]=t.expr?t.expr.value:t.value})}}function F(u,t,e){void 0===u&&(u={}),void 0===t&&(t={});var i,o=U({},t.opts),s=t.parent,a=t.isLoop,c=!!t.isAnonymous,h=Qt.skipAnonymousTags&&c,f=rt(t.item),r=t.index,p=[],l=[],_=[],d=t.root,v=t.tagName||et(d),y="virtual"===v,g=!y&&!u.tmpl,n=[];h||Jt(this),u.name&&d._tag&&d._tag.unmount(!0),this.isMounted=!1,L(this,"__",{isAnonymous:c,instAttrs:p,innerHTML:e,tagName:v,index:r,isLoop:a,isInline:g,listeners:[],virts:[],tail:null,head:null,parent:null,item:null}),L(this,"_riot_id",++he),L(this,"root",d),U(this,{opts:o},f),L(this,"parent",s||null),L(this,"tags",{}),L(this,"refs",{}),g||a&&c?i=d:(y||(d.innerHTML=""),i=W(u.tmpl,e,S(d))),L(this,"update",function(t){var e={},r=this.isMounted&&!h;return U(this,t=rt(t)),J.apply(this,[a,s,c,e,p]),r&&this.isMounted&&m(this.shouldUpdate)&&!this.shouldUpdate(t,e)||(a&&c&&Y.apply(this,[this.parent,n]),U(o,e),r&&this.trigger("update",t),B.call(this,_),r&&this.trigger("updated")),this}.bind(this)),L(this,"mixin",function(){var u=this;return N(arguments,function(t){var n,e,r=[],i=["init","__proto__"];t=x(t)?$(t):t,n=m(t)?new t:t;for(var o=Object.getPrototypeOf(n);r=r.concat(Object.getOwnPropertyNames(e||n)),e=Object.getPrototypeOf(e||n););N(r,function(t){if(!R(i,t)){var e=Object.getOwnPropertyDescriptor(n,t)||Object.getOwnPropertyDescriptor(o,t),r=e&&(e.get||e.set);!u.hasOwnProperty(t)&&r?Object.defineProperty(u,t,e):u[t]=m(n[t])?n[t].bind(u):n[t]}}),n.init&&n.init.bind(u)()}),this}.bind(this)),L(this,"mount",function(){var r=this;d._tag=this,H.apply(s,[d,d.attributes,function(t,e){!c&&Zt.isPrototypeOf(e)&&(e.tag=r),t.expr=e,p.push(t)}]),l=[],C(u.attrs,function(t,e){l.push({name:t,value:e})}),H.apply(this,[d,l,function(t,e){e?_.push(e):D(d,t.name,t.value)}]),J.apply(this,[a,s,c,o,p]);var t=$(_t);if(t&&!h)for(var e in t)t.hasOwnProperty(e)&&r.mixin(t[e]);if(u.fn&&u.fn.call(this,o),h||this.trigger("before-mount"),V.apply(this,[i,_,c]),this.update(f),!c&&!g)for(;i.firstChild;)d.appendChild(i.firstChild);if(L(this,"root",d),L(this,"isMounted",!0),!h){if(this.parent){var n=X(this.parent);n.one(n.isMounted?"updated":"mount",function(){r.trigger("mount")})}else this.trigger("mount");return this}}.bind(this)),L(this,"unmount",function(t){var e,r=this,n=this.root,i=n.parentNode,o=pt.indexOf(this);return h||this.trigger("before-unmount"),C(u.attrs,function(t){T(t,dt)&&(t=t.slice(dt.length)),j(d,t)}),this.__.listeners.forEach(function(e){Object.keys(e[It]).forEach(function(t){e.removeEventListener(t,e[It][t])})}),-1!==o&&pt.splice(o,1),(i||y)&&(s?(e=X(s),y?Object.keys(this.tags).forEach(function(t){it(e.tags,t,r.tags[t])}):(it(e.tags,v,this),s!==e&&it(s.tags,v,this))):I(n,""),i&&!t&&i.removeChild(n)),this.__.virts&&N(this.__.virts,function(t){t.parentNode&&t.parentNode.removeChild(t)}),tt(_),N(p,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()}),this.__.onUnmount&&this.__.onUnmount(),h||(this.trigger("unmount"),this.off("*")),L(this,"isMounted",!1),delete this.root._tag,this}.bind(this))}function Q(t){return t.tagName&&lt[A(t,yt)||A(t,yt)||t.tagName.toLowerCase()]}function Y(r,n){var i=this;N(Object.keys(r),function(t){var e=!o(t)&&R(n,t);(c(i[t])||e)&&(e||n.push(t),i[t]=r[t])})}function Z(t,e){var r,n=this.parent;n&&(z(r=n.tags[t])?r.splice(e,0,r.splice(r.indexOf(this),1)[0]):nt(n.tags,t,this))}function G(t,e,r,n){var i=new F(t,e,r),o=e.tagName||et(e.root,!0),u=X(n);return L(i,"parent",u),i.__.parent=n,nt(u.tags,o,i),u!==n&&nt(n.tags,o,i),i}function X(t){for(var e=t;e.__.isAnonymous&&e.parent;)e=e.parent;return e}function tt(t){N(t,function(t){t instanceof F?t.unmount(!0):t.tagName?t.tag.unmount(!0):t.unmount&&t.unmount()})}function et(t,e){var r=Q(t),n=!e&&A(t,yt);return n&&!$t.hasExpr(n)?n:r?r.name:t.tagName.toLowerCase()}function rt(t){if(!(t instanceof F||t&&m(t.trigger)))return t;var e={};for(var r in t)qt.test(r)||(e[r]=t[r]);return e}function nt(t,e,r,n,i){var o=t[e],u=z(o),s=!c(i);if(!o||o!==r)if(!o&&n)t[e]=[r];else if(o)if(u){var a=o.indexOf(r);if(a===i)return;-1!==a&&o.splice(a,1),s?o.splice(i,0,r):o.push(r)}else t[e]=[o,r];else t[e]=r}function it(t,e,r,n){if(z(t[e])){var i=t[e].indexOf(r);-1!==i&&t[e].splice(i,1),t[e].length?1!==t[e].length||n||(t[e]=t[e][0]):delete t[e]}else delete t[e]}function ot(t,e,r,n){var i=lt[e],o=lt[e].class,u=n||(o?Object.create(o.prototype):{}),s=t._innerHTML=t._innerHTML||t.innerHTML,a=U({root:t,opts:r},{parent:r?r.parent:null});return i&&t&&F.apply(u,[i,a,s]),u&&u.mount&&(u.mount(!0),R(pt,u)||pt.push(u)),u}function ut(t,e){var r=O();st.call(t,r),e.parentNode.replaceChild(r,e)}function st(t,e){var r,n,i=E(),o=E(),u=O();for(this.root.insertBefore(i,this.root.firstChild),this.root.appendChild(o),this.__.head=n=i,this.__.tail=o;n;)r=n.nextSibling,u.appendChild(n),this.__.virts.push(n),n=r;e?t.insertBefore(u,e.__.head):t.appendChild(u)}function at(t,e){for(var r,n=this.__.head,i=O();n;)if(r=n.nextSibling,i.appendChild(n),(n=r)===this.__.tail){i.appendChild(n),t.insertBefore(i,e.__.head);break}}function ct(t){if(!t){var e=Object.keys(lt);return e+ct(e)}return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var r=e.trim().toLowerCase();return t+",["+yt+'="'+r+'"]'},"")}var ht,ft,pt=[],lt={},_t="__global_mixin",dt="riot-",vt=["ref","data-ref"],yt="data-is",gt="if",mt="each",wt="no-reorder",bt="show",St="hide",It="__riot-events__",xt="string",zt="object",Ot="undefined",Et="function",Mt="http://www.w3.org/1999/xlink",jt="http://www.w3.org/2000/svg",kt=/^xlink:(\w+)/,At=typeof window===Ot?void 0:window,Dt=/^on/,qt=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|refs|parent|opts|trigger|o(?:n|ff|ne))$/,Ct=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,Nt={viewbox:"viewBox"},Rt=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,Tt=0|(At&&At.document||{}).documentMode,Lt=Object.freeze({isBoolAttr:s,isFunction:m,isObject:w,isUndefined:c,isString:x,isBlank:b,isArray:z,isWritable:u,isReservedName:o}),Ut=Object.freeze({$$:a,$:h,createFrag:O,createDOMPlaceholder:E,isSvg:S,mkEl:f,setInnerHTML:I,toggleVisibility:M,remAttr:j,styleObjectToString:k,getAttr:A,setAttr:D,safeInsert:q,walkAttrs:C,walkNodes:l}),Kt={},Bt=[],Pt=!1;At&&(ht=function(){var t=f("style");D(t,"type","text/css");var e=h("style[type=riot]");return e?(e.id&&(t.id=e.id),e.parentNode.replaceChild(t,e)):document.getElementsByTagName("head")[0].appendChild(t),t}(),ft=ht.styleSheet);var Vt={styleNode:ht,add:function(t,e){e?Kt[e]=t:Bt.push(t),Pt=!0},inject:function(){if(At&&Pt){Pt=!1;var t=Object.keys(Kt).map(function(t){return Kt[t]}).concat(Bt).join("\n");ft?ft.cssText=t:ht.innerHTML=t}}},Ht=function(){function a(t,e){for(;0<=--e&&/\s/.test(t[e]););return e}var c=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"],h=c.reduce(function(t,e){return t+e.slice(-1)},""),f=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/,p=/[$\w]/;return function(t,e){var r=/.*/g,n=r.lastIndex=e++,i=r.exec(t)[0].match(f);if(i){var o=n+i[0].length,u=t[n=a(t,n)];if(n<0||~"[{(,;:?=|&!^~>%*/".indexOf(u))return o;if("."===u)"."===t[n-1]&&(e=o);else if("+"===u||"-"===u)(t[--n]!==u||(n=a(t,n))<0||!p.test(t[n]))&&(e=o);else if(~h.indexOf(u)){for(var s=n+1;0<=--n&&p.test(t[n]););~c.indexOf(t.slice(n+1,s))&&(e=o)}}return e}}(),Wt=function(t){function e(t){return t}function r(t,e){return e||(e=m),new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?a:"")}function n(t){if(t===_)return d;var e=t.split(" ");if(2!==e.length||f.test(t))throw new Error('Unsupported brackets "'+t+'"');return(e=e.concat(t.replace(p,"\\").split(" ")))[4]=r(1<e[1].length?/{[\S\s]*?}/:d[4],e),e[5]=r(3<t.length?/\\({|})/g:d[5],e),e[6]=r(d[6],e),e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+l,a),e[8]=t,e}function i(t){return t instanceof RegExp?u(t):m[t]}function o(t){(t||(t=_))!==m[8]&&(m=n(t),u=t===_?e:r,m[9]=u(d[9])),v=t}var u,s,a="g",c=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,h=c.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,f=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),p=/(?=[[\]()*+?.^$|])/g,l=c.source+"|"+/(\/)(?![*\/])/.source,g={"(":RegExp("([()])|"+l,a),"[":RegExp("([[\\]])|"+l,a),"{":RegExp("([{}])|"+l,a)},_="{ }",d=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+l,a),_,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],v=void 0,m=[];return i.split=function(n,i,e){function t(t){_&&(t=_+t,_=""),i||u?f.push(t&&t.replace(e[5],"$1")):f.push(t)}function r(t,e,r){return r&&(e=Ht(n,t)),i&&t+2<e&&(c=""+l.length+"~",l.push(n.slice(t,e)),_+=n.slice(s,t)+c,s=e),e}e||(e=m);var o,u,s,a,c,h,f=[],p=e[6],l=[],_="";for(u=s=p.lastIndex=0;o=p.exec(n);){if(h=p.lastIndex,a=o.index,u){if(o[2]){var d=o[2],v=g[d],y=1;for(v.lastIndex=h;o=v.exec(n);)if(o[1]){if(o[1]===d)++y;else if(!--y)break}else v.lastIndex=r(o.index,v.lastIndex,o[2]);p.lastIndex=y?n.length:v.lastIndex;continue}if(!o[3]){p.lastIndex=r(a,h,o[4]);continue}}o[1]||(t(n.slice(s,a)),s=p.lastIndex,(p=e[6+(u^=1)]).lastIndex=s)}return n&&s<n.length&&t(n.slice(s)),f.qblocks=l,f},i.hasExpr=function(t){return m[4].test(t)},i.loopKeys=function(t){var e=t.match(m[9]);return e?{key:e[1],pos:e[2],val:m[0]+e[3].trim()+m[1]}:{val:t.trim()}},i.array=function(t){return t?n(t):m},Object.defineProperty(i,"settings",{set:function(t){var e;e=(t=t||{}).brackets,Object.defineProperty(t,"brackets",{set:o,get:function(){return v},enumerable:!0}),s=t,o(e)},get:function(){return s}}),i.settings="undefined"!=typeof riot&&riot.settings||{},i.set=o,i.skipRegex=Ht,i.R_STRINGS=c,i.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,i.S_QBLOCKS=h,i.S_QBLOCK2=l,i}(),$t=function(){function i(t,e){return t?(o[t]||(o[t]=(r=t,n=function(t){var e,r=Wt.split(t.replace(a,'"'),1),n=r.qblocks;if(2<r.length||r[0]){var i,o,u=[];for(i=o=0;i<r.length;++i)(e=r[i])&&(e=1&i?s(e,1,n):'"'+e.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(u[o++]=e);e=o<2?u[0]:"["+u.join(",")+'].join("")'}else e=s(r[1],0,n);return n.length&&(e=e.replace(h,function(t,e){return n[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),e}(r),"try{return "!==n.slice(0,11)&&(n="return "+n),new Function("E",n+";")))).call(e,function(t,e){t.riotData={tagName:e&&e.__&&e.__.tagName,_riot_id:e&&e._riot_id},i.errorHandler?i.errorHandler(t):"undefined"!=typeof console&&"function"==typeof console.error&&(console.error(t.message),console.log("<%s> %s",t.riotData.tagName||"Unknown tag",this.tmpl),console.log(this.data))}.bind({data:e,tmpl:t})):t;var r,n}function s(o,t,e){if(o=o.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var r,n=[],i=0;o&&(r=o.match(f))&&!r.index;){var u,s,a=/,|([[{(])|$/g;for(o=RegExp.rightContext,u=r[2]?e[r[2]].slice(1,-1).trim().replace(/\s+/g," "):r[1];s=(r=a.exec(o))[1];)!function(t,e){var r,n=1,i=p[t];for(i.lastIndex=e.lastIndex;r=i.exec(o);)if(r[0]===t)++n;else if(!--n)break;e.lastIndex=n?o.length:i.lastIndex}(s,a);s=o.slice(0,r.index),o=RegExp.rightContext,n[i++]=c(s,1,u)}o=i?1<i?"["+n.join(",")+'].join(" ").trim()':n[0]:c(o,t)}return o}function c(t,e,r){var o;return t=t.replace(n,function(t,e,r,n,i){return r&&(n=o?0:n+t.length,"this"!==r&&"global"!==r&&"window"!==r?(t=e+'("'+r+u+r,n&&(o="."===(i=i[n])||"("===i||"["===i)):n&&(o=!l.test(i.slice(n)))),t}),o&&(t="try{return "+t+"}catch(e){E(e,this)}"),r?t=(o?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+r+'":""':e&&(t="function(v){"+(o?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'),t}var o={};i.hasExpr=Wt.hasExpr,i.loopKeys=Wt.loopKeys,i.clearCache=function(){o={}},i.errorHandler=null;var a=/\u2057/g,h=/\u2057(\d+)~/g,f=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,p={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},u='"in this?this:'+("object"!=typeof window?"global":"window")+").",n=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,l=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return i.version=Wt.version="v3.0.8",i}(),Jt=function(s){s=s||{};var a={},c=Array.prototype.slice;return Object.defineProperties(s,{on:{value:function(t,e){return"function"==typeof e&&(a[t]=a[t]||[]).push(e),s},enumerable:!1,writable:!1,configurable:!1},off:{value:function(t,e){if("*"!=t||e)if(e)for(var r,n=a[t],i=0;r=n&&n[i];++i)r==e&&n.splice(i--,1);else delete a[t];else a={};return s},enumerable:!1,writable:!1,configurable:!1},one:{value:function(e,r){return s.on(e,function t(){s.off(e,t),r.apply(s,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(t){var e,r,n,i=arguments,o=arguments.length-1,u=new Array(o);for(n=0;n<o;n++)u[n]=i[n+1];for(e=c.call(a[t]||[],0),n=0;r=e[n];++n)r.apply(s,u);return a["*"]&&"*"!=t&&s.trigger.apply(s,["*",t].concat(u)),s},enumerable:!1,writable:!1,configurable:!1}}),s},Ft=Object.freeze({each:N,contains:R,toCamel:p,startsWith:T,defineProperty:L,extend:U}),Qt=U(Object.create(Wt.settings),{skipAnonymousTags:!0,autoUpdate:!0}),Yt={init:function(t,e,r){j(t,gt),this.tag=e,this.expr=r,this.stub=E();var n=(this.pristine=t).parentNode;return n.insertBefore(this.stub,t),n.removeChild(t),this},update:function(){this.value=$t(this.expr,this.tag),this.value&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=[],V.apply(this.tag,[this.current,this.expressions,!0])):!this.value&&this.current&&(tt(this.expressions),this.current._tag?this.current._tag.unmount():this.current.parentNode&&this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]),this.value&&B.call(this.tag,this.expressions)},unmount:function(){tt(this.expressions||[])}},Zt={init:function(t,e,r,n){return this.dom=t,this.attr=r,this.rawValue=n,this.parent=e,this.hasExp=$t.hasExpr(n),this},update:function(){var t=this.value,e=this.parent&&X(this.parent),r=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?$t(this.rawValue,this.parent):this.rawValue,!b(t)&&e&&it(e.refs,t,r),!b(this.value)&&x(this.value)?(e&&nt(e.refs,this.value,r,null,this.parent.__.index),this.value!==t&&D(this.dom,this.attr,this.value)):j(this.dom,this.attr),this.dom.__ref||(this.dom.__ref=r)},unmount:function(){var t=this.tag||this.dom,e=this.parent&&X(this.parent);!b(this.value)&&e&&it(e.refs,this.value,t)}},Gt=/<yield\b/i,Xt=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,te=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,ee=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,re={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},ne=Tt&&Tt<10?/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,ie="div",oe="svg",ue={},se=ue[_t]={},ae=0,ce=Object.freeze({Tag:r,tag:d,tag2:n,mount:v,mixin:$,update:y,unregister:g,version:"v3.6.1"}),he=0,fe=Object.freeze({getTag:Q,inheritFrom:Y,moveChildTag:Z,initChildTag:G,getImmediateCustomParentTag:X,unmountAll:tt,getTagName:et,cleanUpData:rt,arrayishAdd:nt,arrayishRemove:it,mountTo:ot,makeReplaceVirtual:ut,makeVirtual:st,moveVirtual:at,selectTags:ct}),pe=Qt,le={tmpl:$t,brackets:Wt,styleManager:Vt,vdom:pt,styleNode:Vt.styleNode,dom:Ut,check:Lt,misc:Ft,tags:fe},_e=r,de=d,ve=n,ye=v,ge=$,me=y,we=g,be=Jt,Se=U({},ce,{observable:Jt,settings:pe,util:le});t.settings=pe,t.util=le,t.Tag=_e,t.tag=de,t.tag2=ve,t.mount=ye,t.mixin=ge,t.update=me,t.unregister=we,t.version="v3.6.1",t.observable=be,t.default=Se,Object.defineProperty(t,"__esModule",{value:!0})});var sm_core=function(){return riot.observable(this),this.createStore=function(t){return this.state=Immutable.fromJS(t,function(t,e,r){return Immutable.isIndexed(e)?e.toList():e.toOrderedMap()}),this.stateCached=this.state.toJS(),this.stateOld=this.stateCached,this},this.updateState=function(t,e){this.state=this.state.setIn(t,e),this.stateCached=this.state.toJS(),riot.update()},this.setState=function(t){this.state=this.state.mergeDeep(t),this.stateCached=this.state.toJS(),riot.update()},this.getState=function(){return this.stateCached},this.getToken=function(){return this.stateCached.token},this.getModuleId=function(){return this.stateCached.module_id?"&module_id="+this.stateCached.module_id:""},this.getError=function(){return this.stateCached.errors||(this.stateCached.errors={}),this.stateCached.errors},this.getChange=function(){return getDiff(this.stateOld,this.stateCached)},this.setChange=function(t){this.stateOld=t},this.dispatch=function(t,e){this.trigger(t,e)},this.subscribe=function(t,e){this.on(t,e)},this.notification_handler=function(t){_.each(t,function(t,e){"object"==typeof t?_.each(t,function(t){alertify.notify(t,e)}):alertify.notify(t,e)})},this.try_parse_json=function(t){try{var e=JSON.parse(t);if(e&&"object"==typeof e)return e}catch(t){}return!1},this.get_ignored_issues_count=function(){var e=0;return"object"==typeof this.stateCached.scan.scan_issues.issues&&_.each(this.stateCached.scan.scan_issues.issues,function(t){t.ignore_status&&(e+=1)}),"object"==typeof this.stateCached.scan.scan_issues.quarantine&&_.each(this.stateCached.scan.scan_issues.quarantine,function(t){t.ignore_status&&(e+=1)}),"object"==typeof this.stateCached.scan.scan_issues.spam&&_.each(this.stateCached.scan.scan_issues.spam,function(t){t.ignore_status&&(e+=1)}),e},this}(),d_social_share=sm_core;!function(){this.subscribe("setting/save_setting",function(t){t.go;delete t.go;var e={setting:JSON.stringify(t)},r="index.php?route=extension/module/d_social_share/save_setting&"+this.getToken()+this.getModuleId();$.post(r,e,function(t){t.redirect&&(location.href=t.redirect)}.bind(this))})}();